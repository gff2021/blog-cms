{"ast":null,"code":"/* 对axios进行二次封装 */\nimport axios from 'axios';\nimport { message } from 'antd';\n\nconst ajax = function (url) {\n  let data = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  let method = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : 'GET';\n  return new Promise((resolve, reject) => {\n    let p;\n\n    if (method === 'GET') {\n      p = axios.get(url, {\n        params: data\n      });\n    } else if (method === 'POST') {\n      p = axios.post(url, data);\n    }\n\n    ;\n    p.then(response => {\n      resolve(response);\n    }).catch(error => {\n      message.error('请求出错了:' + error.message);\n    });\n  });\n};\n\nexport default ajax;","map":{"version":3,"sources":["C:/Users/32049/Desktop/半米之内/blog-cms/src/api/ajax.js"],"names":["axios","message","ajax","url","data","method","Promise","resolve","reject","p","get","params","post","then","response","catch","error"],"mappings":"AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAAQC,OAAR,QAAsB,MAAtB;;AAEA,MAAMC,IAAI,GAAG,UAACC,GAAD,EAAgC;AAAA,MAA1BC,IAA0B,uEAArB,EAAqB;AAAA,MAAjBC,MAAiB,uEAAV,KAAU;AACzC,SAAO,IAAIC,OAAJ,CAAY,CAACC,OAAD,EAAUC,MAAV,KAAqB;AACpC,QAAIC,CAAJ;;AACA,QAAIJ,MAAM,KAAK,KAAf,EAAsB;AAClBI,MAAAA,CAAC,GAAGT,KAAK,CAACU,GAAN,CAAUP,GAAV,EAAe;AACfQ,QAAAA,MAAM,EAAEP;AADO,OAAf,CAAJ;AAGH,KAJD,MAIO,IAAIC,MAAM,KAAK,MAAf,EAAuB;AAC1BI,MAAAA,CAAC,GAAGT,KAAK,CAACY,IAAN,CAAWT,GAAX,EAAgBC,IAAhB,CAAJ;AACH;;AAAA;AACDK,IAAAA,CAAC,CAACI,IAAF,CAAQC,QAAD,IAAc;AACjBP,MAAAA,OAAO,CAACO,QAAD,CAAP;AACH,KAFD,EAEGC,KAFH,CAEUC,KAAD,IAAW;AAChBf,MAAAA,OAAO,CAACe,KAAR,CAAc,WAAWA,KAAK,CAACf,OAA/B;AACH,KAJD;AAKH,GAdM,CAAP;AAgBH,CAjBD;;AAmBA,eAAeC,IAAf","sourcesContent":["/* 对axios进行二次封装 */\r\nimport axios from 'axios';\r\nimport {message} from 'antd';\r\n\r\nconst ajax = (url, data={}, method='GET') => {\r\n    return new Promise((resolve, reject) => {\r\n        let p;\r\n        if (method === 'GET') {\r\n            p = axios.get(url, {\r\n                params: data\r\n            })\r\n        } else if (method === 'POST') {\r\n            p = axios.post(url, data)\r\n        };\r\n        p.then((response) => {\r\n            resolve(response)\r\n        }).catch((error) => {\r\n            message.error('请求出错了:' + error.message);\r\n        })\r\n    })\r\n    \r\n}\r\n\r\nexport default ajax;"]},"metadata":{},"sourceType":"module"}